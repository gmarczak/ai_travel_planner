@page
@model project.Pages.IndexModel
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@{
    ViewData["Title"] = Localizer["appTitle"];
}

<!-- Hero Section with Search Bar -->
<section class="hero-section position-relative mb-0">
    <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100"></div>
    <div class="container position-relative hero-content">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-xl-8 text-center">
                <h1 class="hero-title fw-bold text-white mb-3">@Localizer["planYourJourney"]</h1>
                <p class="hero-subtitle text-white mb-4">@Localizer["aiTravel"]</p>

                <!-- Quick Search Bar -->
                <div class="search-bar-wrapper mx-auto">
                    <form action="/TravelPlanner" method="get" class="search-form">
                        <div class="input-group input-group-lg shadow-lg">
                            <span class="input-group-text bg-white border-0">
                                <i class="bi bi-search"></i>
                            </span>
                            <input type="text" name="destination" id="homeDestinationInput"
                                class="form-control border-0 ps-2" placeholder="@Localizer["whereToGo"]"
                                aria-label="Search destination" autocomplete="off" autocapitalize="words" required>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Destinations Section -->
<section class="popular-destinations-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title fw-bold mb-3">@Localizer["popularDestinations"]</h2>
            <p class="text-muted">@Localizer["discoverMostLoved"]</p>
        </div>

        <div class="row g-4">
            @{
                var defaultDestinations = new[] {
                        new { Name = "Paris", Country = "France", Key = "paris" },
                        new { Name = "Tokyo", Country = "Japan", Key = "tokyo" },
                        new { Name = "New York", Country = "USA", Key = "new york" },
                        new { Name = "Barcelona", Country = "Spain", Key = "barcelona" },
                        new { Name = "Rome", Country = "Italy", Key = "rome" },
                        new { Name = "London", Country = "UK", Key = "london" }
                        };

                foreach (var dest in defaultDestinations)
                {
                    var fullDestination = $"{dest.Name}, {dest.Country}";
                    <div class="col-12 col-md-6 col-lg-4">
                        <a href="/TravelPlanner?destination=@Uri.EscapeDataString(fullDestination)"
                            class="destination-card-link text-decoration-none">
                            <div class="destination-card card h-100 border-0 shadow-sm">
                                <div class="destination-image-wrapper position-relative">
                                    @{
                                        var fallbackUrls = new Dictionary<string, string> {
                                                        {"paris",
                                                        "https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&auto=format&fit=crop"},
                                                        {"tokyo",
                                                        "https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&auto=format&fit=crop"},
                                                        {"new york",
                                                        "https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&auto=format&fit=crop"},
                                                        {"barcelona",
                                                        "https://images.unsplash.com/photo-1583422409516-2895a77efded?w=800&auto=format&fit=crop"},
                                                        {"rome",
                                                        "https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=800&auto=format&fit=crop"},
                                                        {"london",
                                                        "https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&auto=format&fit=crop"}
                                                        };
                                        var fallbackUrl = fallbackUrls.ContainsKey(dest.Key) ? fallbackUrls[dest.Key] :
                                        "https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&auto=format&fit=crop";
                                    }
                                    <img src="@(Model.DestinationImages.ContainsKey(dest.Key) ? Model.DestinationImages[dest.Key] : fallbackUrl)"
                                        class="card-img-top destination-image" alt="@dest.Name, @dest.Country" loading="lazy"
                                        onerror="this.onerror=null; this.src='@fallbackUrl';">
                                    <div class="destination-overlay position-absolute bottom-0 start-0 w-100 p-3">
                                        <h5 class="text-white fw-bold mb-1">@dest.Name</h5>
                                        <p class="text-white-50 small mb-0">@dest.Country</p>
                                    </div>
                                </div>
                                <div class="card-body d-flex flex-column">
                                    <p class="card-text text-muted small mb-3 flex-grow-1">
                                        <i class="bi bi-heart-fill text-danger me-1"></i>
                                        @Localizer["trendingDestination"]
                                    </p>
                                    <div class="btn btn-outline-success w-100">
                                        <i class="bi bi-compass me-2"></i>@Localizer["planTrip"]
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            }
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section py-5 bg-white">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="section-title fw-bold mb-3">@Localizer["howItWorks"]</h2>
            <p class="text-muted">@Localizer["threeSimplesSteps"]</p>
        </div>

        <div class="row g-4">
            <div class="col-12 col-md-4">
                <div class="how-it-works-card p-4 text-center">
                    <div class="step-icon-row d-flex justify-content-center align-items-center gap-3 mb-3">
                        <div class="step-number-badge">1</div>
                        <i class="bi bi-geo-alt-fill text-success fs-1"></i>
                    </div>
                    <h3 class="h5 fw-bold mb-2">@Localizer["chooseDestination"]</h3>
                    <p class="text-muted small mb-0">@Localizer["tellUsWhereYouWant"]</p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="how-it-works-card p-4 text-center">
                    <div class="step-icon-row d-flex justify-content-center align-items-center gap-3 mb-3">
                        <div class="step-number-badge">2</div>
                        <i class="bi bi-magic text-success fs-1"></i>
                    </div>
                    <h3 class="h5 fw-bold mb-2">@Localizer["aiCreatesYourPlan"]</h3>
                    <p class="text-muted small mb-0">@Localizer["ourAiAnalyzes"]</p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="how-it-works-card p-4 text-center">
                    <div class="step-icon-row d-flex justify-content-center align-items-center gap-3 mb-3">
                        <div class="step-number-badge">3</div>
                        <i class="bi bi-airplane-fill text-success fs-1"></i>
                    </div>
                    <h3 class="h5 fw-bold mb-2">@Localizer["enjoyJourney"]</h3>
                    <p class="text-muted small mb-0">@Localizer["downloadYourPlan"]</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Showcase Section -->
<section class="features-showcase-section py-5">
    <div class="container">
        <!-- Feature 1: AI Planning -->
        <div class="row align-items-center mb-5 pb-md-4">
            <div class="col-12 col-md-6 mb-4 mb-md-0">
                <div class="feature-content pe-md-4">
                    <div class="feature-icon-badge mb-3">
                        <i class="bi bi-robot text-success fs-2"></i>
                    </div>
                    <h3 class="h3 fw-bold mb-3">@Localizer["aiPoweredPlanning"]</h3>
                    <p class="text-muted mb-3">
                        @Localizer["ourAdvancedAi"]
                    </p>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["smartDestinationSuggestions"]
                        </li>
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["optimizedDailySchedules"]
                        </li>
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["budgetFriendlyOptions"]
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="feature-image-wrapper">
                    <img src="@(Model.DestinationImages.ContainsKey("artificial intelligence technology") ? Model.DestinationImages["artificial intelligence technology"] : "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&auto=format&fit=crop")"
                        class="img-fluid rounded shadow feature-image" alt="AI Planning Technology" loading="lazy"
                        onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&auto=format&fit=crop';">
                </div>
            </div>
        </div>

        <!-- Feature 2: Smart Routes -->
        <div class="row align-items-center mb-5 pb-md-4 flex-md-row-reverse">
            <div class="col-12 col-md-6 mb-4 mb-md-0">
                <div class="feature-content ps-md-4">
                    <div class="feature-icon-badge mb-3">
                        <i class="bi bi-map text-success fs-2"></i>
                    </div>
                    <h3 class="h3 fw-bold mb-3">@Localizer["interactiveMapsRoutes"]</h3>
                    <p class="text-muted mb-3">
                        @Localizer["visualizeYourEntireJourney"]
                    </p>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["realTimeNavigation"]
                        </li>
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["offlineMapAccess"]
                        </li>
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["localAttractionsHighlighted"]
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="feature-image-wrapper">
                    <img src="@(Model.DestinationImages.ContainsKey("map navigation gps") ? Model.DestinationImages["map navigation gps"] : "https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?w=800&auto=format&fit=crop")"
                        class="img-fluid rounded shadow feature-image" alt="Interactive Maps" loading="lazy"
                        onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?w=800&auto=format&fit=crop';">
                </div>
            </div>
        </div>

        <!-- Feature 3: Personalized Recommendations -->
        <div class="row align-items-center">
            <div class="col-12 col-md-6 mb-4 mb-md-0">
                <div class="feature-content pe-md-4">
                    <div class="feature-icon-badge mb-3">
                        <i class="bi bi-stars text-success fs-2"></i>
                    </div>
                    <h3 class="h3 fw-bold mb-3">@Localizer["personalizedRecommendations"]</h3>
                    <p class="text-muted mb-3">
                        @Localizer["discoverHiddenGems"]
                    </p>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["curatedHotelSelections"]
                        </li>
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["activityRecommendations"]
                        </li>
                        <li class="mb-2"><i
                                class="bi bi-check-circle-fill text-success me-2"></i>@Localizer["localDiningExperiences"]
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="feature-image-wrapper">
                    <img src="@(Model.DestinationImages.ContainsKey("hotel restaurant dining") ? Model.DestinationImages["hotel restaurant dining"] : "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&auto=format&fit=crop")"
                        class="img-fluid rounded shadow feature-image" alt="Personalized Recommendations" loading="lazy"
                        onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&auto=format&fit=crop';">
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script src="~/js/destination-autocomplete.js" asp-append-version="true"></script>
}